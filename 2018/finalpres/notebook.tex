
% Default to the notebook output style

    


% Inherit from the specified cell style.




    
\documentclass[11pt]{article}

    
    
    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size 
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range 
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    

    
    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatability definitions
    \def\gt{>}
    \def\lt{<}
    % Document parameters
    \title{FinalPresentationSSR (1)}
    
    
    

    % Pygments definitions
    
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}



    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

    \begin{document}
    
    
    \maketitle
    
    

    
    Data Exploration and Failure Prediction of SSR-Mining Trucks

Team Members: Cody Griffith, Howell Tan, Mirazami Saeed, Shams Elnawawi,
Nicholas Dembek, Michelle, Sunny, Mohammed Wali Ullah, Sohrab

Mentor: Junbo, Vien

    Introduction:

\begin{verbatim}
SSR relies heavily on hauling trucks to transport material. This can be up to 200,000 tonnes per day making them integral to operations at a mine. Breakdowns of these trucks can be costly for example: last year, 41 % of the Marigold total direct cost went towards maintenance. Breakdowns also jeopardize the efficiency of operations at a mine. Therefore, decreasing the unexpected maintenance events associated with a truck would financially and operationally benefit the company as maintenance before a breakdown would be a lower cost preventative measure. 
\end{verbatim}

    The Goal of this Project:

\begin{verbatim}
Predicting unscheduled component failures of haul trucks before they happen based on alarm data streamed from truck sensors.
\end{verbatim}

    The Data:

\begin{verbatim}
The cell below shows where the data comes from and what information each system collects. The end result was the collection of 50GB of data for the Hitachi EH500 ACII fleet. 
\end{verbatim}

    \begin{verbatim}
The dataset covers 12 months (May 2017 – Apr 2018) worth of equipment identifiers, time profiles, production, performance, alarms and work order history.  The 3 systems used are:

Dispatch: This dataset contains haul truck production summary (Equipment IDs, Tons moved, distance traveled and cycle time) and equipment time profile (operative, delays, downtime, idle time, and standby) along with downtime reasons and comments 

Minecare: This data set contains haul truck sensors data, alarms and alerts history

eMaint: Maintenance Work order history which includes work order time, downtime type, work type, equipment and components and parts usage
\end{verbatim}

    \begin{verbatim}
The Cell below shows the relationship between all the data tables collected from the systems above.
\end{verbatim}

    \begin{figure}
\centering
\includegraphics{attachment:image.png}
\caption{image.png}
\end{figure}

    Initial Data Exploration:

\begin{verbatim}
Because of the large amount of data we began by looking at certain tables to see if anything could be learned before developing a model. We focused on TruckMachineData,WorkOrders, and NotificationDetailsReport tables. 

Below begins the summation of failures and alarms associated with all trucks. An alarm is raised by a sensor measuring a parameter of a truck (tire pressure, coolant temperature, etc) associated with some mechanical part. When this alarm is raised, the parameter measurement is recorded along with its alarm level. An alarm has three levels: 1,2,3. In the case, alarm level 1 is critical and is the most dangerous alarm. 
\end{verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{c+c1}{\PYZsh{}importing necessary packages}
        \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
        \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
        \PY{k+kn}{import} \PY{n+nn}{folium}
        \PY{k+kn}{import} \PY{n+nn}{datetime}
        \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
        \PY{k+kn}{import} \PY{n+nn}{matplotlib}
        \PY{k+kn}{import} \PY{n+nn}{datetime}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{linear\PYZus{}model} \PY{k}{import} \PY{n}{LogisticRegression}
        \PY{k+kn}{from} \PY{n+nn}{sklearn} \PY{k}{import} \PY{n}{preprocessing}
        \PY{k+kn}{from} \PY{n+nn}{folium} \PY{k}{import} \PY{n}{plugins}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{NDR} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{/Maintenance/NotificationDetailsReport.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{equipValues} \PY{o}{=} \PY{n}{NDR}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Level}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{c+c1}{\PYZsh{} filtering Level}
        \PY{n}{equipName} \PY{o}{=} \PY{n}{NDR}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{EquipmentName}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{c+c1}{\PYZsh{} filtering Truck Names}
        \PY{n}{myDict} \PY{o}{=} \PY{n+nb}{set}\PY{p}{(}\PY{n}{equipName}\PY{p}{)} \PY{c+c1}{\PYZsh{} finding the name of Trucks}
        \PY{n}{myDictList} \PY{o}{=} \PY{n+nb}{list}\PY{p}{(}\PY{n}{myDict}\PY{p}{)} \PY{c+c1}{\PYZsh{} set to list}
        \PY{n}{Truck} \PY{o}{=} \PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{o}{*}\PY{n+nb}{len}\PY{p}{(}\PY{n}{myDictList}\PY{p}{)} \PY{c+c1}{\PYZsh{} Truck is a list of number 1 alarms}
        \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range} \PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{equipValues}\PY{p}{)}\PY{p}{)}\PY{p}{:}
            \PY{k}{if} \PY{n}{equipValues}\PY{p}{[}\PY{n}{i}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{1}\PY{p}{:}
                \PY{n}{current\PYZus{}Truck} \PY{o}{=} \PY{n}{myDictList}\PY{o}{.}\PY{n}{index}\PY{p}{(}\PY{n}{equipName}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{)}
                \PY{n}{Truck}\PY{p}{[}\PY{n}{current\PYZus{}Truck}\PY{p}{]} \PY{o}{+}\PY{o}{=} \PY{l+m+mi}{1}
        
        \PY{n}{minCritical} \PY{o}{=} \PY{n}{Truck}\PY{o}{.}\PY{n}{index}\PY{p}{(}\PY{n+nb}{min}\PY{p}{(}\PY{n}{Truck}\PY{p}{)}\PY{p}{)}
        \PY{n}{barlist} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{bar}\PY{p}{(}\PY{n}{myDictList}\PY{p}{,} \PY{n}{Truck}\PY{p}{)}
        \PY{n}{barlist}\PY{p}{[}\PY{n}{minCritical}\PY{p}{]}\PY{o}{.}\PY{n}{set\PYZus{}color}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{r}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Critical Alarms for each Truck}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{} of times}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Truck Name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
        \PY{k}{del} \PY{n}{NDR}
\end{Verbatim}


    \begin{figure}
\centering
\includegraphics{attachment:image.png}
\caption{image.png}
\end{figure}

    \begin{verbatim}
Based on the number of critial alarms for each truck, it would suggest that truck 478 outperforms the other trucks. 
\end{verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{TPrS} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Production/TruckProductionSummary.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{equipNo} \PY{o}{=} \PY{n}{TPrS}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{EquipmentNumber}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{n}{Dict} \PY{o}{=} \PY{n+nb}{set}\PY{p}{(}\PY{n}{equipNo}\PY{p}{)}
        \PY{n}{DictList} \PY{o}{=} \PY{n+nb}{list}\PY{p}{(}\PY{n}{Dict}\PY{p}{)}
        \PY{n}{loadOfTrucks} \PY{o}{=} \PY{n}{TPrS}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{LoadTons}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{n}{TotalLoad} \PY{o}{=} \PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{o}{*} \PY{n+nb}{len}\PY{p}{(}\PY{n}{DictList}\PY{p}{)}
        \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range} \PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{TotalLoad}\PY{p}{)}\PY{p}{)}\PY{p}{:}
            \PY{n}{current\PYZus{}Truck} \PY{o}{=} \PY{n}{DictList}\PY{o}{.}\PY{n}{index}\PY{p}{(}\PY{n}{equipNo}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{)}
            \PY{n}{TotalLoad}\PY{p}{[}\PY{n}{current\PYZus{}Truck}\PY{p}{]} \PY{o}{=} \PY{n}{TotalLoad}\PY{p}{[}\PY{n}{current\PYZus{}Truck}\PY{p}{]} \PY{o}{+} \PY{n}{loadOfTrucks}\PY{p}{[}\PY{n}{i}\PY{p}{]}
            
        \PY{n}{minCritical} \PY{o}{=} \PY{n}{Truck}\PY{o}{.}\PY{n}{index}\PY{p}{(}\PY{n+nb}{min}\PY{p}{(}\PY{n}{Truck}\PY{p}{)}\PY{p}{)}
        \PY{n}{barlist} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{bar}\PY{p}{(}\PY{n}{DictList}\PY{p}{,} \PY{n}{TotalLoad}\PY{p}{)}
        \PY{n}{barlist}\PY{p}{[}\PY{n}{minCritical}\PY{p}{]}\PY{o}{.}\PY{n}{set\PYZus{}color}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{r}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Total Load of each Truck (Tons)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Load(tons)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Truck Name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
        \PY{k}{del} \PY{n}{TPrS}
\end{Verbatim}


    \begin{figure}
\centering
\includegraphics{attachment:image.png}
\caption{image.png}
\end{figure}

    \begin{verbatim}
The graph above also suggests that the truck that has to struggle the least in terms of hauling experiences less alarms and must breakdown less. However, when looking at the graph below of the number of breakdowns, the story changes.
\end{verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{WO} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{/Maintenance/WorkOrders.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{probType} \PY{o}{=} \PY{n}{WO}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{PROBTYPE}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{n}{compID} \PY{o}{=} \PY{n}{WO}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{COMPID}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{n}{myDict} \PY{o}{=} \PY{n+nb}{set}\PY{p}{(}\PY{n}{compID}\PY{p}{)}
        \PY{n}{myDictList} \PY{o}{=} \PY{n+nb}{list}\PY{p}{(}\PY{n}{myDict}\PY{p}{)}
        \PY{n}{breakdownsNo} \PY{o}{=} \PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{o}{*}\PY{n+nb}{len}\PY{p}{(}\PY{n}{myDictList}\PY{p}{)} \PY{c+c1}{\PYZsh{} breakdownsNo is a list of number of breakdowns}
        \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range} \PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{WO}\PY{p}{)}\PY{p}{)}\PY{p}{:}
            \PY{k}{if} \PY{n}{probType}\PY{p}{[}\PY{n}{i}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Breakdown}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}
                \PY{n}{current\PYZus{}Truck} \PY{o}{=} \PY{n}{myDictList}\PY{o}{.}\PY{n}{index}\PY{p}{(}\PY{n}{compID}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{)}
                \PY{n}{breakdownsNo}\PY{p}{[}\PY{n}{current\PYZus{}Truck}\PY{p}{]} \PY{o}{+}\PY{o}{=} \PY{l+m+mi}{1}
                
        \PY{n}{maxBreakdowns} \PY{o}{=} \PY{n}{breakdownsNo}\PY{o}{.}\PY{n}{index}\PY{p}{(}\PY{n+nb}{max}\PY{p}{(}\PY{n}{breakdownsNo}\PY{p}{)}\PY{p}{)}
                
        \PY{n}{barlist} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{bar}\PY{p}{(}\PY{n}{myDictList}\PY{p}{,} \PY{n}{breakdownsNo}\PY{p}{)}
        \PY{n}{barlist}\PY{p}{[}\PY{n}{maxBreakdowns}\PY{p}{]}\PY{o}{.}\PY{n}{set\PYZus{}color}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{r}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{} of Breakdowns for each Truck}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{} of times}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Truck Name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
        \PY{k}{del} \PY{n}{WO}
\end{Verbatim}


    \begin{figure}
\centering
\includegraphics{attachment:image.png}
\caption{image.png}
\end{figure}

    \begin{verbatim}
Furthermore, If we consider the number of level 2 alarms associated with trucks, it starts to make the number of breakdowns associated with each truck make more sense. 
\end{verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{NDR} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{/Maintenance/NotificationDetailsReport.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
        \PY{n}{equipValues} \PY{o}{=} \PY{n}{NDR}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Level}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{c+c1}{\PYZsh{} filtering Level}
        
        \PY{n}{equipName} \PY{o}{=} \PY{n}{NDR}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{EquipmentName}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{c+c1}{\PYZsh{} filtering Truck Names}
        
        \PY{n}{myDict} \PY{o}{=} \PY{n+nb}{set}\PY{p}{(}\PY{n}{equipName}\PY{p}{)} \PY{c+c1}{\PYZsh{} finding the name of Trucks}
        
        \PY{n}{myDictList} \PY{o}{=} \PY{n+nb}{list}\PY{p}{(}\PY{n}{myDict}\PY{p}{)} \PY{c+c1}{\PYZsh{} set to list}
                
        \PY{n}{Alarm2} \PY{o}{=} \PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{o}{*}\PY{n+nb}{len}\PY{p}{(}\PY{n}{myDictList}\PY{p}{)} \PY{c+c1}{\PYZsh{} Alarm2 is a list of number 2 alarms}
        \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range} \PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{equipValues}\PY{p}{)}\PY{p}{)}\PY{p}{:}
            \PY{k}{if} \PY{n}{equipValues}\PY{p}{[}\PY{n}{i}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{2}\PY{p}{:}
                \PY{n}{current\PYZus{}Truck} \PY{o}{=} \PY{n}{myDictList}\PY{o}{.}\PY{n}{index}\PY{p}{(}\PY{n}{equipName}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{)}
                \PY{n}{Alarm2}\PY{p}{[}\PY{n}{current\PYZus{}Truck}\PY{p}{]} \PY{o}{+}\PY{o}{=} \PY{l+m+mi}{1}
                
        \PY{n}{maxAlarm2} \PY{o}{=} \PY{n}{Alarm2}\PY{o}{.}\PY{n}{index}\PY{p}{(}\PY{n+nb}{max}\PY{p}{(}\PY{n}{Alarm2}\PY{p}{)}\PY{p}{)}
        
        \PY{n}{barlist} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{bar}\PY{p}{(}\PY{n}{myDictList}\PY{p}{,} \PY{n}{Alarm2}\PY{p}{)}
        \PY{n}{barlist}\PY{p}{[}\PY{n}{maxAlarm2}\PY{p}{]}\PY{o}{.}\PY{n}{set\PYZus{}color}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{r}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Level 2 Alarms for each Truck}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{} of times}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Truck Name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
        
        \PY{k}{del} \PY{n}{NDR}
\end{Verbatim}


    \begin{figure}
\centering
\includegraphics{attachment:image.png}
\caption{image.png}
\end{figure}

    \begin{verbatim}
Based on the graphs above, it may be indicative that trucks with higher level 2 alarms have a larger number of breakdowns. This may be indicative of a slow build-up in increasing level of warnings that may pre-empt an unscheduled breakdown.
\end{verbatim}

GPS and Alarm Locations for Truck 478

\begin{verbatim}
The GPS locations of these alarm events are also shown below in a heat map indicating a larger frequency of events with hotter colours.
\end{verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{c+c1}{\PYZsh{} Import and clean out the nan from the NotificationDetailsReport}
        \PY{n}{notification\PYZus{}df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{/Maintenance/NotificationDetailsReport.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{notification\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{GPSLocation}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{notification\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{GPSLocation}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n+nb}{str}\PY{p}{)}
        \PY{n}{notification\PYZus{}df} \PY{o}{=} \PY{n}{notification\PYZus{}df}\PY{p}{[}\PY{o}{\PYZti{}}\PY{p}{(}\PY{n}{notification\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{GPSLocation}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{nan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{]}
        
        \PY{c+c1}{\PYZsh{} Map the GPS data to Latitude and longitude}
        \PY{n}{f} \PY{o}{=} \PY{k}{lambda} \PY{n}{x} \PY{p}{:} \PY{n}{x}\PY{p}{[}\PY{p}{:}\PY{n}{x}\PY{o}{.}\PY{n}{find}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{:}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}
        \PY{n}{g} \PY{o}{=} \PY{k}{lambda} \PY{n}{y} \PY{p}{:} \PY{n}{y}\PY{p}{[}\PY{n}{y}\PY{o}{.}\PY{n}{find}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{:}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}
        \PY{n}{notification\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Long}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{notification\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{GPSLocation}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{n}{f}\PY{p}{)}
        \PY{n}{notification\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{notification\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{GPSLocation}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{n}{g}\PY{p}{)}
        
        \PY{n}{notification\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Long}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{to\PYZus{}numeric}\PY{p}{(}\PY{n}{notification\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Long}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)} \PY{o}{*} \PY{p}{(}\PY{l+m+mf}{0.00000360715054381839}\PY{p}{)} \PY{o}{\PYZhy{}} \PY{l+m+mf}{117.234704527191}
        \PY{n}{notification\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{to\PYZus{}numeric}\PY{p}{(}\PY{n}{notification\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)} \PY{o}{*} \PY{p}{(}\PY{l+m+mf}{0.00000274396439452962}\PY{p}{)} \PY{o}{+} \PY{l+m+mf}{40.6886779177036} 
        
        \PY{c+c1}{\PYZsh{} Pull a specific truck and alarm level, take the next \PYZsq{}big\PYZsq{} data points starting at \PYZsq{}x\PYZsq{} and plot this on a map}
        \PY{n}{big} \PY{o}{=} \PY{l+m+mi}{1100}
        
        \PY{n}{truck} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{HT476}\PY{l+s+s1}{\PYZsq{}}
        \PY{n}{level} \PY{o}{=} \PY{l+m+mi}{1}
        
        \PY{n}{x}\PY{o}{=}\PY{l+m+mi}{0}
        \PY{n}{test} \PY{o}{=} \PY{n}{notification\PYZus{}df}\PY{p}{[}\PY{n}{notification\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{EquipmentName}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{n}{truck}\PY{p}{]}
        \PY{n}{test} \PY{o}{=} \PY{n}{test}\PY{p}{[}\PY{n}{test}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Level}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{==}\PY{n}{level}\PY{p}{]}
        \PY{n}{test} \PY{o}{=} \PY{n}{test}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n}{x}\PY{p}{:}\PY{n}{x}\PY{o}{+}\PY{n}{big}\PY{p}{]}
        
        \PY{n}{a} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{n}{test}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
        \PY{n}{b} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{n}{test}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Long}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
        \PY{n}{m} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Map}\PY{p}{(}\PY{n}{location} \PY{o}{=} \PY{p}{[}\PY{n}{a}\PY{p}{,} \PY{n}{b}\PY{p}{]}\PY{p}{,} \PY{n}{zoom\PYZus{}start} \PY{o}{=} \PY{l+m+mi}{13}\PY{p}{)}
        
            \PY{c+c1}{\PYZsh{} mark each alarm as a point}
        \PY{k}{for} \PY{n}{index}\PY{p}{,} \PY{n}{row} \PY{o+ow}{in} \PY{n}{test}\PY{o}{.}\PY{n}{iterrows}\PY{p}{(}\PY{p}{)}\PY{p}{:}
            \PY{n}{folium}\PY{o}{.}\PY{n}{CircleMarker}\PY{p}{(}\PY{p}{[}\PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Long}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{,}
                                \PY{n}{radius}\PY{o}{=}\PY{o}{.}\PY{l+m+mi}{5}\PY{p}{)}\PY{o}{.}\PY{n}{add\PYZus{}to}\PY{p}{(}\PY{n}{m}\PY{p}{)}
        \PY{c+c1}{\PYZsh{} convert to (n, 2) nd\PYZhy{}array format for heatmap}
        \PY{n}{paths} \PY{o}{=} \PY{n}{test}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Long}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{values}
        \PY{n}{paths} \PY{o}{=} \PY{n}{paths}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{} plot heatmap}
        \PY{n}{m}\PY{o}{.}\PY{n}{add\PYZus{}child}\PY{p}{(}\PY{n}{plugins}\PY{o}{.}\PY{n}{HeatMap}\PY{p}{(}\PY{n}{paths}\PY{p}{,} \PY{n}{radius}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{)}\PY{p}{)}
        \PY{k}{del} \PY{n}{notification\PYZus{}df}\PY{p}{,}\PY{n}{test}
        \PY{n}{m}
\end{Verbatim}


    \begin{figure}
\centering
\includegraphics{attachment:image.png}
\caption{image.png}
\end{figure}

    \begin{figure}
\centering
\includegraphics{attachment:image.png}
\caption{image.png}
\end{figure}

    \begin{verbatim}
As is evident from the graphs above, most alarms come from places the trucks spend most of their time: Ore Dump, Loading, Waste Dump, and the truck shop. The Low speed uphill Haul zone shows a significant bloom in activity as well maybe indicating that the trucks are under too much stress during the haul. 
\end{verbatim}

Temperature and Pressure Profiles of Engine Parts

\begin{verbatim}
Further consideration was given for the temperature and pressure profiles for all Hitachi truck 478 in the fleet to analyze any trends.
\end{verbatim}

    All graphs have a line that is an average the data for a day. The grey
regions represent the variance on that average. These graphs were
generated by R so the code is not shown.

    \begin{figure}
\centering
\includegraphics{attachment:image.png}
\caption{image.png}
\end{figure}

    \begin{verbatim}
All Temperature variables show an overall pattern of low operating temperature before November 2017 and higher operating temperature after that.
Pressure variables show an opposite operating pattern than temperature. Higher before November 2017 and lower after that. 
\end{verbatim}

    \begin{figure}
\centering
\includegraphics{attachment:image.png}
\caption{image.png}
\end{figure}

    \begin{verbatim}
Not enough data before November 2017

No large variation in temperature of different component of the truck with time.

Some components show variation of pressure with time 

The black dots show the “breakdown” from work order
\end{verbatim}

    \begin{figure}
\centering
\includegraphics{attachment:image.png}
\caption{image.png}
\end{figure}

    \begin{verbatim}
All operating Temperature variables show an opposite time series parent compared to Truck 476. High operating temperature before November 2017 and low operating temperature after that.
Except Engine coolant and park break pressure, all other variables do to show any significant change in pressure with time. 
\end{verbatim}

    \begin{figure}
\centering
\includegraphics{attachment:image.png}
\caption{image.png}
\end{figure}

    \begin{verbatim}
A Work Order is a file that an employee submits for a repair and these are shown above plotted over the year for a single truck.
There is more work order before November 2017 (around) and very few after that time period. This was found for all trucks within the fleet indicating a turnaround in maintenance issues. This was confirmed by SSR as the trucks started to go for regular maintenance more often.
We also looked at failure events in terms of engine components:
\end{verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{df1} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{/Maintenance/WorkOrders.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{c+c1}{\PYZsh{}Extract all data corresponding to truck 476}
        \PY{n}{workOrder476} \PY{o}{=} \PY{n}{df1}\PY{p}{[}\PY{n}{df1}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{COMPID}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{==}\PY{l+m+mi}{476}\PY{p}{]}
        \PY{c+c1}{\PYZsh{}24V MECHANICAL, HV ELECTRICAL, ENGINES, HYDRAULIC HOSES \PYZam{} FITTINGS, TIRES, CAB, SAFETY, RADIOS, FRAME AND BODY, STEERING SYSTEM, BRAKES,LUBRICANTS}
        \PY{n}{breakDown476} \PY{o}{=} \PY{n}{workOrder476}\PY{p}{[}\PY{n}{workOrder476}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SCHEDULED}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{UNSCHEDULED}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{n}{mechanicalFailure} \PY{o}{=} \PY{n}{breakDown476}\PY{p}{[}\PY{n}{breakDown476}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ACCTDESC}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{24V MECHANICAL}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total number of mechanical failure is }\PY{l+s+si}{\PYZpc{}s}\PY{l+s+s2}{\PYZdq{}} \PY{o}{\PYZpc{}} \PY{p}{(}\PY{n}{mechanicalFailure}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}\PY{p}{)}
        \PY{n}{hydraulicFailure} \PY{o}{=} \PY{n}{breakDown476}\PY{p}{[}\PY{n}{breakDown476}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ACCTDESC}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{HYDRAULIC HOSES \PYZam{} FITTINGS}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total number of HYDRAULIC HOSES \PYZam{} FITTINGS failure is }\PY{l+s+si}{\PYZpc{}s}\PY{l+s+s2}{\PYZdq{}} \PY{o}{\PYZpc{}} \PY{p}{(}\PY{n}{hydraulicFailure}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}\PY{p}{)}
        \PY{n}{engineFailure} \PY{o}{=} \PY{n}{breakDown476}\PY{p}{[}\PY{n}{breakDown476}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ACCTDESC}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ENGINES}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total number of engine failure is }\PY{l+s+si}{\PYZpc{}s}\PY{l+s+s2}{\PYZdq{}} \PY{o}{\PYZpc{}} \PY{p}{(}\PY{n}{engineFailure}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}\PY{p}{)}
        \PY{n}{electricalFailure} \PY{o}{=} \PY{n}{breakDown476}\PY{p}{[}\PY{n}{breakDown476}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ACCTDESC}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{HV ELECTRICAL}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total number of electrical failure is }\PY{l+s+si}{\PYZpc{}s}\PY{l+s+s2}{\PYZdq{}} \PY{o}{\PYZpc{}} \PY{p}{(}\PY{n}{electricalFailure} \PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}\PY{p}{)}
        \PY{n}{frameFailure} \PY{o}{=} \PY{n}{breakDown476}\PY{p}{[}\PY{n}{breakDown476}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ACCTDESC}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FRAME AND BODY}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total number of FRAME AND BODY failure is }\PY{l+s+si}{\PYZpc{}s}\PY{l+s+s2}{\PYZdq{}} \PY{o}{\PYZpc{}} \PY{p}{(}\PY{n}{frameFailure}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}\PY{p}{)}
        \PY{n}{tireFailure} \PY{o}{=} \PY{n}{breakDown476}\PY{p}{[}\PY{n}{breakDown476}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ACCTDESC}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TIRES}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total number of tires failure is }\PY{l+s+si}{\PYZpc{}s}\PY{l+s+s2}{\PYZdq{}} \PY{o}{\PYZpc{}} \PY{p}{(}\PY{n}{tireFailure}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}\PY{p}{)}
        \PY{n}{breaksFailure} \PY{o}{=} \PY{n}{breakDown476}\PY{p}{[}\PY{n}{breakDown476}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ACCTDESC}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BRAKES}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total number of Breaks failure is }\PY{l+s+si}{\PYZpc{}s}\PY{l+s+s2}{\PYZdq{}} \PY{o}{\PYZpc{}} \PY{p}{(}\PY{n}{breaksFailure}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}\PY{p}{)}
        \PY{n}{steeringFailure} \PY{o}{=} \PY{n}{breakDown476}\PY{p}{[}\PY{n}{breakDown476}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ACCTDESC}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{STEERING SYSTEM}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total number of STEERING SYSTEM failure is }\PY{l+s+si}{\PYZpc{}s}\PY{l+s+s2}{\PYZdq{}} \PY{o}{\PYZpc{}} \PY{p}{(}\PY{n}{steeringFailure}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}\PY{p}{)}
        
        \PY{k}{del} \PY{n}{df1}\PY{p}{,}\PY{n}{breakDown476}\PY{p}{,}\PY{n}{mechanicalFailure}\PY{p}{,}\PY{n}{hydraulicFailure}\PY{p}{,}\PY{n}{engineFailure}\PY{p}{,}\PY{n}{electricalFailure}\PY{p}{,}\PY{n}{frameFailure}\PY{p}{,}\PY{n}{breaksFailure}\PY{p}{,}\PY{n}{steeringFailure}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{total} \PY{n}{number} \PY{n}{of} \PY{n}{mechanical} \PY{n}{failure} \PY{o+ow}{is} \PY{l+m+mi}{20}
        \PY{n}{total} \PY{n}{number} \PY{n}{of} \PY{n}{HYDRAULIC} \PY{n}{HOSES} \PY{o}{\PYZam{}} \PY{n}{FITTINGS} \PY{n}{failure} \PY{o+ow}{is} \PY{l+m+mi}{3}
        \PY{n}{total} \PY{n}{number} \PY{n}{of} \PY{n}{engine} \PY{n}{failure} \PY{o+ow}{is} \PY{l+m+mi}{10}
        \PY{n}{total} \PY{n}{number} \PY{n}{of} \PY{n}{electrical} \PY{n}{failure} \PY{o+ow}{is} \PY{l+m+mi}{2}
        \PY{n}{total} \PY{n}{number} \PY{n}{of} \PY{n}{FRAME} \PY{n}{AND} \PY{n}{BODY} \PY{n}{failure} \PY{o+ow}{is} \PY{l+m+mi}{6}
        \PY{n}{total} \PY{n}{number} \PY{n}{of} \PY{n}{tires} \PY{n}{failure} \PY{o+ow}{is} \PY{l+m+mi}{0}
        \PY{n}{total} \PY{n}{number} \PY{n}{of} \PY{n}{Breaks} \PY{n}{failure} \PY{o+ow}{is} \PY{l+m+mi}{5}
        \PY{n}{total} \PY{n}{number} \PY{n}{of} \PY{n}{STEERING} \PY{n}{SYSTEM} \PY{n}{failure} \PY{o+ow}{is} \PY{l+m+mi}{0}
\end{Verbatim}


    \begin{verbatim}
We find that for truck 478, failures (unscheduled maintenance events) are primarily related to mechanical and engine failure events. This may link into the GPS data as most alarams were raised when the engines would have been in most use.
\end{verbatim}

    A Note on the Condition of the Data:

\begin{verbatim}
Some of the parameters for each truck were very sparse as they were determined alarm events which were speradic at best. Some of the graphs below show this discrepency in the continuity of the data
\end{verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{HT476\PYZus{}data\PYZus{}file} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{/Maintenance/TruckMachineData/TruckMachineData\PYZus{}HT476.csv}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{pd}\PY{o}{.}\PY{n}{options}\PY{o}{.}\PY{n}{display}\PY{o}{.}\PY{n}{max\PYZus{}columns} \PY{o}{=} \PY{l+m+mi}{50}
        
        \PY{n}{plt}\PY{o}{.}\PY{n}{style}\PY{o}{.}\PY{n}{use}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{seaborn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
        \PY{n}{parameters\PYZus{}label\PYZus{}col} \PY{o}{=} \PY{n}{HT476\PYZus{}data\PYZus{}file}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Parameter}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{n}{parameters\PYZus{}value\PYZus{}col} \PY{o}{=} \PY{n}{HT476\PYZus{}data\PYZus{}file}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ParameterValue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        
        \PY{c+c1}{\PYZsh{} Get all the rows with paramater labels containing the word \PYZdq{}Temperature\PYZdq{}}
        
        \PY{n}{rows\PYZus{}with\PYZus{}temperature} \PY{o}{=} \PY{n}{HT476\PYZus{}data\PYZus{}file}\PY{p}{[}\PY{n}{HT476\PYZus{}data\PYZus{}file}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Parameter}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{str}\PY{o}{.}\PY{n}{contains}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Temperature}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{]}
        
        \PY{c+c1}{\PYZsh{} Print each temperature item with time vs temperature}
        
        \PY{n}{parameter\PYZus{}label\PYZus{}list} \PY{o}{=} \PY{p}{[}\PY{p}{]}
        
        \PY{k}{for} \PY{n}{parameter\PYZus{}label} \PY{o+ow}{in} \PY{n}{rows\PYZus{}with\PYZus{}temperature}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Parameter}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{:}
            
            \PY{k}{if}\PY{p}{(}\PY{n}{parameter\PYZus{}label} \PY{o+ow}{not} \PY{o+ow}{in} \PY{n}{parameter\PYZus{}label\PYZus{}list}\PY{p}{)}\PY{p}{:}
                
                \PY{n}{parameter\PYZus{}label\PYZus{}list}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{parameter\PYZus{}label}\PY{p}{)}
        
        \PY{n+nb}{list}\PY{p}{(}\PY{n}{parameter\PYZus{}label\PYZus{}list}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{} For each parameter label, we will save it\PYZsq{}s corresponding parameter values}
        
        \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
        \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
        
        \PY{c+c1}{\PYZsh{} Seperate the relevant columns}
        
        \PY{n}{temperature\PYZus{}labels\PYZus{}column} \PY{o}{=} \PY{n}{rows\PYZus{}with\PYZus{}temperature}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Parameter}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{n}{temperature\PYZus{}values\PYZus{}column} \PY{o}{=} \PY{n}{rows\PYZus{}with\PYZus{}temperature}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ParameterValue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        
        \PY{c+c1}{\PYZsh{} Plot each temperature}
        
        \PY{k}{def} \PY{n+nf}{plot\PYZus{}temperatures}\PY{p}{(}\PY{p}{)}\PY{p}{:}
        
            \PY{k}{for} \PY{n}{label} \PY{o+ow}{in} \PY{n}{parameter\PYZus{}label\PYZus{}list}\PY{p}{:}
        
                \PY{n}{current\PYZus{}temp\PYZus{}label} \PY{o}{=} \PY{n}{temperature\PYZus{}labels\PYZus{}column}\PY{p}{[}\PY{n}{temperature\PYZus{}labels\PYZus{}column} \PY{o}{==} \PY{n}{label}\PY{p}{]}
                \PY{n}{current\PYZus{}index} \PY{o}{=} \PY{n}{current\PYZus{}temp\PYZus{}label}\PY{o}{.}\PY{n}{index}
                \PY{n}{current\PYZus{}temp\PYZus{}value} \PY{o}{=} \PY{n}{temperature\PYZus{}values\PYZus{}column}\PY{p}{[}\PY{n}{current\PYZus{}index}\PY{p}{]}
                
                \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{16}\PY{p}{,}\PY{l+m+mi}{10}\PY{p}{)}\PY{p}{)}
                \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{current\PYZus{}temp\PYZus{}value}\PY{p}{)}
                \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{n}{label}\PY{p}{)}
                \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
                
        \PY{n}{plot\PYZus{}temperatures}\PY{p}{(}\PY{p}{)}
                
        \PY{k}{for} \PY{n}{label} \PY{o+ow}{in} \PY{n}{parameter\PYZus{}label\PYZus{}list}\PY{p}{:}
            
            \PY{n}{current\PYZus{}temp\PYZus{}label} \PY{o}{=} \PY{n}{temperature\PYZus{}labels\PYZus{}column}\PY{p}{[}\PY{n}{temperature\PYZus{}labels\PYZus{}column} \PY{o}{==} \PY{n}{label}\PY{p}{]}
            \PY{n}{current\PYZus{}index} \PY{o}{=} \PY{n}{current\PYZus{}temp\PYZus{}label}\PY{o}{.}\PY{n}{index}
            \PY{n}{current\PYZus{}temp\PYZus{}value} \PY{o}{=} \PY{n}{temperature\PYZus{}values\PYZus{}column}\PY{p}{[}\PY{n}{current\PYZus{}index}\PY{p}{]}
\end{Verbatim}


    \begin{figure}
\centering
\includegraphics{attachment:image.png}
\caption{image.png}
\end{figure}

    \begin{figure}
\centering
\includegraphics{attachment:image.png}
\caption{image.png}
\end{figure}

    Correlation between Measured Parameters from Truck 478 Alarms

\begin{verbatim}
Despite inevitable holes in the data, an attempt was made to smooth the data of outliers and make it more continuous for truck 478. This was done by averaging all data taken for one parameter in a day. Thus, we get a matrix where we have 365 rows (as we have averaged over each day), and 41 columns (as there are 41 different parameters that are measured). The matrix still had many NaN values, so columns that had more than a certain number where then filtered from the matrix. In this case, columns that had more than 260 NaN values were removed.  Then, the correlation matrix was produced below between the remaining parameters.
\end{verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{TruckNumber} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{478}\PY{l+s+s1}{\PYZsq{}}
        \PY{n}{TruckHT} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{/Maintenance/TruckMachineData/TruckMachineData\PYZus{}HT}\PY{l+s+s1}{\PYZsq{}}\PY{o}{+}\PY{n+nb}{str}\PY{p}{(}\PY{n}{TruckNumber}\PY{p}{)}\PY{o}{+}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
        \PY{n}{pd}\PY{o}{.}\PY{n}{options}\PY{o}{.}\PY{n}{mode}\PY{o}{.}\PY{n}{chained\PYZus{}assignment} \PY{o}{=} \PY{k+kc}{None} \PY{c+c1}{\PYZsh{}to suppress warnings}
        \PY{n}{params} \PY{o}{=} \PY{n+nb}{list}\PY{p}{(}\PY{n+nb}{set}\PY{p}{(}\PY{n}{TruckHT}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Parameter}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{)}
        \PY{n}{count} \PY{o}{=} \PY{l+m+mi}{0}
        \PY{n}{TruckParameters} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{}Average all parameters per day for truck 478}
        
        \PY{k}{for} \PY{n}{parameter} \PY{o+ow}{in} \PY{n}{params}\PY{p}{:}
            \PY{n}{TruckParameter} \PY{o}{=} \PY{n}{TruckHT}\PY{p}{[}\PY{n}{TruckHT}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Parameter}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{n}{parameter}\PY{p}{]}
            \PY{n}{TruckParameter} \PY{o}{=} \PY{n}{TruckParameter}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ParameterValue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ParameterReadTime1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
            \PY{n}{TruckParameter}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ParameterReadTime1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{to\PYZus{}datetime}\PY{p}{(}\PY{n}{TruckParameter}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ParameterReadTime1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
            \PY{n}{TruckParameter} \PY{o}{=} \PY{n}{TruckParameter}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ParameterReadTime1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{TruckParameter} \PY{o}{=} \PY{n}{TruckParameter}\PY{o}{.}\PY{n}{set\PYZus{}index}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ParameterReadTime1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
            \PY{n}{TruckParameter} \PY{o}{=} \PY{n}{TruckParameter}\PY{o}{.}\PY{n}{resample}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{D}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
            \PY{k}{if} \PY{n}{count} \PY{o}{==} \PY{l+m+mi}{0}\PY{p}{:}
                \PY{n}{TruckParameters}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Date}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{TruckParameter}\PY{o}{.}\PY{n}{index}
                \PY{n}{TruckParameters} \PY{o}{=} \PY{n}{TruckParameters}\PY{o}{.}\PY{n}{set\PYZus{}index}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Date}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
            \PY{n}{TruckParameters}\PY{p}{[}\PY{n}{parameter}\PY{p}{]} \PY{o}{=} \PY{n}{TruckParameter}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ParameterValue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        
            \PY{n}{count} \PY{o}{+}\PY{o}{=} \PY{l+m+mi}{1}
            
        \PY{n}{listNew} \PY{o}{=} \PY{n}{TruckParameters}\PY{o}{.}\PY{n}{isna}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}
        \PY{n}{list2} \PY{o}{=} \PY{p}{[}\PY{p}{]}
        \PY{n+nb}{max}\PY{p}{(}\PY{n}{listNew}\PY{o}{.}\PY{n}{index}\PY{p}{)}
        \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{listNew}\PY{p}{)}\PY{p}{)}\PY{p}{:}
            \PY{k}{if} \PY{p}{(}\PY{n}{listNew}\PY{p}{[}\PY{n}{i}\PY{p}{]} \PY{o}{\PYZgt{}} \PY{l+m+mi}{260}\PY{p}{)}\PY{p}{:}
                \PY{n}{list2}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{listNew}\PY{o}{.}\PY{n}{index}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{)}  
        
                
        \PY{n}{NewMatrix} \PY{o}{=} \PY{n}{TruckParameters}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{list2}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}        
        \PY{n}{corel} \PY{o}{=} \PY{n}{NewMatrix}\PY{o}{.}\PY{n}{corr}\PY{p}{(}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(} \PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{9}\PY{p}{,}\PY{l+m+mi}{9}\PY{p}{)} \PY{p}{)}
        
        \PY{n}{plt}\PY{o}{.}\PY{n}{imshow}\PY{p}{(}\PY{n}{corel}\PY{p}{,} \PY{n}{interpolation}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{nearest}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{cmap}\PY{o}{=}\PY{n}{plt}\PY{o}{.}\PY{n}{cm}\PY{o}{.}\PY{n}{ocean}\PY{p}{)}
        
        \PY{n}{plt}\PY{o}{.}\PY{n}{colorbar}\PY{p}{(}\PY{p}{)}
        
        \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    The parameters are included below and the ones with a value greater than
260 are neglected.

    \begin{figure}
\centering
\includegraphics{attachment:image.png}
\caption{image.png}
\end{figure}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{Engine} \PY{n}{Intercooler} \PY{n}{Temperature}                               \PY{l+m+mi}{160}
        \PY{n}{Shift} \PY{n}{Lever} \PY{n}{Forward} \PY{p}{(}\PY{n}{EH5000}\PY{p}{)}                                  \PY{l+m+mi}{45}
        \PY{n}{Motor} \PY{n}{B} \PY{n}{DE} \PY{n}{Bearing} \PY{n}{Temperature} \PY{p}{(}\PY{n}{EH5000}\PY{p}{)}                      \PY{l+m+mi}{169}
        \PY{n}{Fuel} \PY{n}{Flow} \PY{n}{Rate}                                               \PY{l+m+mi}{343}
        \PY{n}{Steer} \PY{n}{Accumulator} \PY{l+m+mi}{2} \PY{n}{Pressure} \PY{p}{(}\PY{n}{EH5000}\PY{p}{)}                         \PY{l+m+mi}{42}
        \PY{n}{Park} \PY{n}{Brake} \PY{n}{Oil} \PY{n}{Pressure} \PY{p}{(}\PY{n}{EH5000}\PY{p}{)}                             \PY{l+m+mi}{115}
        \PY{n}{Battery} \PY{n}{Power} \PY{n}{Voltage}                                        \PY{l+m+mi}{150}
        \PY{n}{Truck} \PY{n}{Speed} \PY{p}{(}\PY{n}{EH5000}\PY{p}{)}                                          \PY{l+m+mi}{18}
        \PY{n}{Turbocharger} \PY{n}{Charge} \PY{n}{Pressure}                                 \PY{l+m+mi}{194}
        \PY{n}{Payload} \PY{n}{Limit} \PY{p}{(}\PY{n}{EH5000}\PY{p}{)}                                        \PY{l+m+mi}{23}
        \PY{n}{Motor} \PY{n}{A} \PY{n}{DE} \PY{n}{Bearing} \PY{n}{Temperature} \PY{p}{(}\PY{n}{EH5000}\PY{p}{)}                      \PY{l+m+mi}{169}
        \PY{n}{Park} \PY{n}{Brake} \PY{n}{Press} \PY{n}{Switch} \PY{p}{(}\PY{n}{EH5000}\PY{p}{)}                             \PY{l+m+mi}{115}
        \PY{n}{Drive} \PY{n}{System} \PY{n}{Fault} \PY{n}{Number} \PY{k}{for} \PY{n}{Oper}\PY{o}{.} \PY{p}{(}\PY{n}{Shutdown}\PY{p}{)} \PY{l+m+mi}{7} \PY{p}{(}\PY{n}{EH5000}\PY{p}{)}    \PY{l+m+mi}{169}
        \PY{n}{Fuel} \PY{n}{Level} \PY{p}{(}\PY{n}{EH5000}\PY{p}{)}                                          \PY{l+m+mi}{258}
        \PY{n}{Optimum} \PY{n}{Load} \PY{n}{Signal}                                          \PY{l+m+mi}{357}
        \PY{n}{Intake} \PY{n}{Pipe} \PY{n}{Air} \PY{n}{Temperature}                                  \PY{l+m+mi}{354}
        \PY{n}{Motor} \PY{n}{B} \PY{n}{Winding} \PY{n}{Temperature} \PY{p}{(}\PY{n}{EH5000}\PY{p}{)}                         \PY{l+m+mi}{169}
        \PY{n}{Throttle} \PY{n}{Percentage} \PY{p}{(}\PY{n}{EH5000}\PY{p}{)}                                 \PY{l+m+mi}{186}
        \PY{n}{Drive} \PY{n}{System} \PY{n}{Fault} \PY{n}{Number} \PY{k}{for} \PY{n}{Oper}\PY{o}{.} \PY{p}{(}\PY{n+ne}{Warning}\PY{p}{)} \PY{l+m+mi}{6} \PY{p}{(}\PY{n}{EH5000}\PY{p}{)}     \PY{l+m+mi}{169}
        \PY{n}{Alternator} \PY{n}{Winding} \PY{n}{Temperature} \PY{p}{(}\PY{n}{EH5000}\PY{p}{)}                      \PY{l+m+mi}{169}
        \PY{n}{Park} \PY{n}{Brake} \PY{n}{Solenoid} \PY{n}{Valve} \PY{p}{(}\PY{n}{EH5000}\PY{p}{)}                           \PY{l+m+mi}{115}
        \PY{n}{Body} \PY{n}{Angle} \PY{p}{(}\PY{n}{EH5000}\PY{p}{)}                                           \PY{l+m+mi}{50}
        \PY{n}{Static} \PY{n}{Payload} \PY{p}{(}\PY{n}{EH5000}\PY{p}{)}                                      \PY{l+m+mi}{354}
        \PY{n}{Engine} \PY{n}{Oil} \PY{n}{Pressure} \PY{p}{(}\PY{n}{EH5000DDEC}\PY{p}{)}                             \PY{l+m+mi}{252}
        \PY{n}{Service} \PY{n}{Brake} \PY{n}{Switch} \PY{p}{(}\PY{n}{EH5000}\PY{p}{)}                                 \PY{l+m+mi}{79}
        \PY{n}{Retard} \PY{n}{Percentage} \PY{p}{(}\PY{n}{EH5000}\PY{p}{)}                                   \PY{l+m+mi}{186}
        \PY{n}{Fuel} \PY{n}{Temperature}                                             \PY{l+m+mi}{193}
        \PY{n}{Alternator} \PY{n}{Bearing} \PY{n}{Temperature} \PY{p}{(}\PY{n}{EH5000}\PY{p}{)}                      \PY{l+m+mi}{169}
        \PY{n}{Engine} \PY{n}{Coolant} \PY{n}{Pressure}                                      \PY{l+m+mi}{145}
        \PY{n}{Engine} \PY{n}{Oil} \PY{n}{Temperature} \PY{l+m+mi}{1}                                     \PY{l+m+mi}{144}
        \PY{n}{Engine} \PY{n}{Speed}                                                  \PY{l+m+mi}{20}
        \PY{n}{Coolant} \PY{n}{Temperature}                                          \PY{l+m+mi}{148}
        \PY{n}{Activate} \PY{n}{External} \PY{n}{Preheating}                                 \PY{l+m+mi}{235}
        \PY{n}{Steer} \PY{n}{Accumulator} \PY{l+m+mi}{1} \PY{n}{Pressure} \PY{p}{(}\PY{n}{EH5000}\PY{p}{)}                         \PY{l+m+mi}{42}
        \PY{n}{Shift} \PY{n}{Lever} \PY{n}{Reverse} \PY{p}{(}\PY{n}{EH5000}\PY{p}{)}                                  \PY{l+m+mi}{45}
        \PY{n}{Motor} \PY{n}{A} \PY{n}{Winding} \PY{n}{Temperature} \PY{p}{(}\PY{n}{EH5000}\PY{p}{)}                         \PY{l+m+mi}{169}
        \PY{n}{Motor} \PY{n}{A} \PY{n}{NDE} \PY{n}{Bearing} \PY{n}{Temperature} \PY{p}{(}\PY{n}{EH5000}\PY{p}{)}                     \PY{l+m+mi}{169}
        \PY{n}{Engine} \PY{n}{Oil} \PY{n}{Level} \PY{p}{(}\PY{n}{EH5000DDEC}\PY{p}{)}                                \PY{l+m+mi}{252}
        \PY{n}{Actual} \PY{n}{Rpm} \PY{n}{Request}                                           \PY{l+m+mi}{357}
        \PY{n}{Motor} \PY{n}{B} \PY{n}{NDE} \PY{n}{Bearing} \PY{n}{Temperature} \PY{p}{(}\PY{n}{EH5000}\PY{p}{)}                     \PY{l+m+mi}{169}
        \PY{n}{Steer} \PY{n}{Oil} \PY{n}{Pressure} \PY{p}{(}\PY{n}{EH5000}\PY{p}{)}                                   \PY{l+m+mi}{42}
\end{Verbatim}


    Logistic Regression on Truck 478 Parameters and Unscheduled Breakdowns

\begin{verbatim}
At this point, we considered predicting unscheduled maintenance events based on linear combinations of the values of the parameters and then taking the sigmoid function of that value.  In other words, preforming a logistic regression on the matrix constructed earlier. The labels for each entry of that matrix will be a zero (no unscheduled maintenance event that day) or a one (unscheduled maintenance event). Below, we construct these labels using the work orders issued for a day as a work order means an unscheduled maintenance event (which we have filtered for truck 478 and unscheduled work orders).
\end{verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{c+c1}{\PYZsh{} Set up for Logistic Regression Model (Y\PYZhy{}values)}
        \PY{n}{TruckNumber} \PY{o}{=} \PY{l+m+mi}{476}
        \PY{n}{TruckWO} \PY{o}{=} \PY{n}{WorkOrder}\PY{p}{[}\PY{n}{WorkOrder}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{COMPID}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{n}{TruckNumber}\PY{p}{]}
        \PY{n}{TruckWORepairDates} \PY{o}{=} \PY{n}{TruckWO}\PY{p}{[}\PY{p}{(}\PY{n}{TruckWO}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SCHEDULED}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{UNSCHEDULED}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{]}
        \PY{n}{TruckWORepairDates} \PY{o}{=} \PY{n}{TruckWORepairDates}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DATE\PYZus{}WO}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SCHEDULED}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
        \PY{n}{TruckWORepairDates}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DATE\PYZus{}WO}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{to\PYZus{}datetime}\PY{p}{(}\PY{n}{TruckWORepairDates}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DATE\PYZus{}WO}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
        \PY{n}{TruckWORepairDates} \PY{o}{=} \PY{n}{TruckWORepairDates}\PY{o}{.}\PY{n}{set\PYZus{}index}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DATE\PYZus{}WO}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
        \PY{n}{ColO1} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{ones}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{TruckWORepairDates}\PY{p}{)}\PY{p}{)}
        \PY{n}{TruckWORepairDates}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Label}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{ColO1}
        \PY{n}{TruckWORepairDates} \PY{o}{=} \PY{n}{TruckWORepairDates}\PY{o}{.}\PY{n}{resample}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{D}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{max}\PY{p}{(}\PY{p}{)}
        \PY{n}{TruckWORepairDates} \PY{o}{=} \PY{n}{TruckWORepairDates}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SCHEDULED}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
        \PY{n}{TruckWORepairDates} \PY{o}{=} \PY{n}{TruckWORepairDates}\PY{o}{.}\PY{n}{fillna}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}
        
        \PY{n}{dist} \PY{o}{=} \PY{n+nb}{len}\PY{p}{(}\PY{n}{TruckParameters}\PY{p}{)} \PY{o}{\PYZhy{}} \PY{n+nb}{len}\PY{p}{(}\PY{n}{TruckWORepairDates}\PY{p}{)}
        \PY{n}{axisVal} \PY{o}{=} \PY{l+m+mi}{1}\PY{o}{+}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{n}{dist}\PY{p}{)}
        \PY{n}{ZeroCol} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{zeros}\PY{p}{(}\PY{p}{(}\PY{n}{dist}\PY{p}{)}\PY{p}{)}
        \PY{n}{base} \PY{o}{=} \PY{n}{TruckWORepairDates}\PY{o}{.}\PY{n}{index}\PY{p}{[}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}
        \PY{n}{dateArray} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{array}\PY{p}{(}\PY{p}{[}\PY{n}{base} \PY{o}{+} \PY{n}{datetime}\PY{o}{.}\PY{n}{timedelta}\PY{p}{(}\PY{n}{days}\PY{o}{=}\PY{n}{np}\PY{o}{.}\PY{n}{float64}\PY{p}{(}\PY{n}{i}\PY{p}{)}\PY{p}{)} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n}{axisVal}\PY{p}{]}\PY{p}{)}
        \PY{n}{ColSer} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{Series}\PY{p}{(}\PY{n}{ZeroCol}\PY{p}{,}\PY{n}{index}\PY{o}{=}\PY{n}{dateArray}\PY{p}{)}
        \PY{n}{TruckWORepairDates} \PY{o}{=} \PY{n}{TruckWORepairDates}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Label}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{ColSer}
\end{Verbatim}


    \begin{verbatim}
Some of the parameters on the X-matrix where removed to achieve a better fit of the data which was found experimentally to be about 13 useful parameters. These also happened to be the most continuous parameters that the systems measuring them were able to give. 
\end{verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{c+c1}{\PYZsh{} Logistic Regression}
        \PY{n}{imputer} \PY{o}{=} \PY{n}{Imputer}\PY{p}{(}\PY{p}{)}
        
        \PY{n}{listNew} \PY{o}{=} \PY{n}{TruckParameters}\PY{o}{.}\PY{n}{isna}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}
        \PY{n}{list2} \PY{o}{=} \PY{p}{[}\PY{p}{]}
        \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{listNew}\PY{p}{)}\PY{p}{)}\PY{p}{:}
            \PY{k}{if} \PY{p}{(}\PY{n}{listNew}\PY{p}{[}\PY{n}{i}\PY{p}{]} \PY{o}{\PYZgt{}} \PY{l+m+mi}{130}\PY{p}{)}\PY{p}{:}
                \PY{n}{list2}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{listNew}\PY{o}{.}\PY{n}{index}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{)}
                
        \PY{n}{TruckParametersClean} \PY{o}{=} \PY{n}{TruckParameters}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{list2}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)} 
        
        \PY{n}{AccuarcyMatrix} \PY{o}{=} \PY{p}{[}\PY{p}{]}
        
        \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{20}\PY{p}{)}\PY{p}{:}
            \PY{n}{X} \PY{o}{=} \PY{n}{TruckParametersClean}\PY{o}{.}\PY{n}{values}
            \PY{n}{Y} \PY{o}{=} \PY{n}{TruckWORepairDates}\PY{o}{.}\PY{n}{values}
            \PY{n}{m}\PY{p}{,}\PY{n}{n} \PY{o}{=} \PY{n}{X}\PY{o}{.}\PY{n}{shape}
            \PY{n}{shuffle} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{random}\PY{o}{.}\PY{n}{permutation}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{n}{X}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}\PY{p}{)}
            \PY{n}{X}\PY{p}{,} \PY{n}{Y} \PY{o}{=} \PY{n}{X}\PY{p}{[}\PY{n}{shuffle}\PY{p}{]}\PY{p}{,} \PY{n}{Y}\PY{p}{[}\PY{n}{shuffle}\PY{p}{]}
            \PY{n}{X} \PY{o}{=} \PY{n}{imputer}\PY{o}{.}\PY{n}{fit\PYZus{}transform}\PY{p}{(}\PY{n}{X}\PY{p}{)}
        
            \PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{Y\PYZus{}train} \PY{o}{=} \PY{n}{X}\PY{p}{[}\PY{p}{:}\PY{n+nb}{int}\PY{p}{(}\PY{n}{m}\PY{o}{*}\PY{l+m+mf}{0.6}\PY{p}{)}\PY{p}{]}\PY{p}{,} \PY{n}{Y}\PY{p}{[}\PY{p}{:}\PY{n+nb}{int}\PY{p}{(}\PY{n}{m}\PY{o}{*}\PY{l+m+mf}{0.6}\PY{p}{)}\PY{p}{]}
            \PY{n}{X\PYZus{}test}\PY{p}{,} \PY{n}{Y\PYZus{}test} \PY{o}{=} \PY{n}{X}\PY{p}{[}\PY{n+nb}{int}\PY{p}{(}\PY{n}{m}\PY{o}{*}\PY{l+m+mf}{0.6}\PY{p}{)}\PY{p}{:}\PY{p}{]}\PY{p}{,} \PY{n}{Y}\PY{p}{[}\PY{n+nb}{int}\PY{p}{(}\PY{n}{m}\PY{o}{*}\PY{l+m+mf}{0.6}\PY{p}{)}\PY{p}{:}\PY{p}{]}
        
            \PY{n}{scaler} \PY{o}{=} \PY{n}{preprocessing}\PY{o}{.}\PY{n}{StandardScaler}\PY{p}{(}\PY{p}{)}
            \PY{n}{X\PYZus{}train\PYZus{}scaled} \PY{o}{=} \PY{n}{scaler}\PY{o}{.}\PY{n}{fit\PYZus{}transform}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{)}
            \PY{n}{X\PYZus{}test\PYZus{}scaled} \PY{o}{=} \PY{n}{scaler}\PY{o}{.}\PY{n}{transform}\PY{p}{(}\PY{n}{X\PYZus{}test}\PY{p}{)}
        
            \PY{n}{poly} \PY{o}{=} \PY{n}{preprocessing}\PY{o}{.}\PY{n}{PolynomialFeatures}\PY{p}{(}\PY{n}{degree}\PY{o}{=}\PY{l+m+mi}{2}\PY{p}{,} \PY{n}{include\PYZus{}bias}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
            \PY{n}{X\PYZus{}train\PYZus{}scaled\PYZus{}d2} \PY{o}{=} \PY{n}{poly}\PY{o}{.}\PY{n}{fit\PYZus{}transform}\PY{p}{(}\PY{n}{X\PYZus{}train\PYZus{}scaled}\PY{p}{)}
            \PY{n}{X\PYZus{}test\PYZus{}scaled\PYZus{}d2} \PY{o}{=} \PY{n}{poly}\PY{o}{.}\PY{n}{fit\PYZus{}transform}\PY{p}{(}\PY{n}{X\PYZus{}test\PYZus{}scaled}\PY{p}{)}
        
            \PY{c+c1}{\PYZsh{} Split into train and test.}
        
        
            \PY{c+c1}{\PYZsh{}Actual model}
            \PY{n}{lr} \PY{o}{=} \PY{n}{LogisticRegression}\PY{p}{(}\PY{p}{)}
            \PY{n}{lr}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}train\PYZus{}scaled\PYZus{}d2}\PY{p}{,} \PY{n}{Y\PYZus{}train}\PY{p}{)}
            \PY{n}{preds} \PY{o}{=} \PY{n}{lr}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{X\PYZus{}test\PYZus{}scaled\PYZus{}d2}\PY{p}{)}
            \PY{n}{accuracy} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{n}{preds} \PY{o}{==} \PY{n}{Y\PYZus{}test}\PY{p}{)}
            \PY{n}{AccuracyMatrix}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{accuracy}\PY{p}{)}
            \PY{c+c1}{\PYZsh{}print(\PYZdq{}Accuracy is: \PYZdq{}, accuracy)}
        
        \PY{n}{meanAcc} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{n}{AccuracyMatrix}\PY{p}{)}
\end{Verbatim}


    \begin{verbatim}
The code above was ran 20 times, with the y labels and X-matrix shuffled, and with a training size that is 60% of the data and a test set that is 40% of the data for 1 truck. The accuracy of this model was found to be 74.45%. 
\end{verbatim}

Failure of the Logistic Regression Model and Future Work:

\begin{verbatim}
The failing of the model comes from the fact that for the entire data set for this truck, unscheduled maintenance events only make up 22%. Therefore, If the model has simply guessed all zero labels, it would have a 78% success rate for this data set outperforming the actual regression. This may be due to the incompleteness of the data (many Nan values) or the fact that the model doesn’t really account for the fact that it is a time series. Logistic regression assumes that the data is independently and identically distributed but for a time series this is not necessarily true.
Future areas of interest can consider the potential clustering of these alarms between different parameters and finding out where failure zones are. Another area of consideration is in the lead up to an unscheduled maintenance event in the time series data. The models we considered did not really take these into account. The concepts talked about here are illustrated below.
\end{verbatim}

    \begin{figure}
\centering
\includegraphics{attachment:image.png}
\caption{image.png}
\end{figure}

    \begin{verbatim}
Other considerations are based on the fact that there are negative and positive correlations between different parameters as shown by the correlation matrix, principal component analysis could be used as a dimensionality reduction tactic. It can also show the contrasts between which parameters are more important for explaining the variation of the data. This process is shown below.
\end{verbatim}

    Note: the below scenarios are using toy data and not that from SSR

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k+kn}{from} \PY{n+nn}{sklearn} \PY{k}{import} \PY{n}{decomposition}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{preprocessing} \PY{k}{import} \PY{n}{scale}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{decomposition} \PY{k}{import} \PY{n}{PCA}
        \PY{k+kn}{import} \PY{n+nn}{seaborn} \PY{k}{as} \PY{n+nn}{sb}
        \PY{o}{\PYZpc{}}\PY{k}{matplotlib} inline
        \PY{n}{loan} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{/loan.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{sample}\PY{p}{(}\PY{n}{frac} \PY{o}{=} \PY{o}{.}\PY{l+m+mi}{25}\PY{p}{)} \PY{c+c1}{\PYZsh{}read the dataset and sample 25\PYZpc{} of it}
        \PY{n+nb}{len}\PY{p}{(}\PY{n}{loan}\PY{o}{.}\PY{n}{columns}\PY{p}{)}
        \PY{c+c1}{\PYZsh{}Data Wrangling}
        \PY{n}{loan}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{p}{[}\PY{n}{np}\PY{o}{.}\PY{n}{inf}\PY{p}{,} \PY{o}{\PYZhy{}}\PY{n}{np}\PY{o}{.}\PY{n}{inf}\PY{p}{]}\PY{p}{,} \PY{n}{np}\PY{o}{.}\PY{n}{nan}\PY{p}{)} \PY{c+c1}{\PYZsh{}convert infs to nans}
        \PY{n}{loan} \PY{o}{=} \PY{n}{loan}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{n}{axis} \PY{o}{=} \PY{l+m+mi}{1}\PY{p}{,} \PY{n}{how} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{any}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{c+c1}{\PYZsh{}remove nans}
        \PY{n}{loan} \PY{o}{=} \PY{n}{loan}\PY{o}{.}\PY{n}{\PYZus{}get\PYZus{}numeric\PYZus{}data}\PY{p}{(}\PY{p}{)} \PY{c+c1}{\PYZsh{}keep only numeric features}
        \PY{n}{x} \PY{o}{=} \PY{n}{loan}\PY{o}{.}\PY{n}{values} \PY{c+c1}{\PYZsh{}convert the data into a numpy array}
        \PY{n}{x} \PY{o}{=} \PY{n}{scale}\PY{p}{(}\PY{n}{x}\PY{p}{)}\PY{p}{;}\PY{n}{x}
        \PY{n}{covar\PYZus{}matrix} \PY{o}{=} \PY{n}{PCA}\PY{p}{(}\PY{n}{n\PYZus{}components} \PY{o}{=} \PY{l+m+mi}{20}\PY{p}{)} 
        \PY{n}{covar\PYZus{}matrix}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{x}\PY{p}{)}
        \PY{n}{variance} \PY{o}{=} \PY{n}{covar\PYZus{}matrix}\PY{o}{.}\PY{n}{explained\PYZus{}variance\PYZus{}ratio\PYZus{}} \PY{c+c1}{\PYZsh{}calculate variance ratios}
        
        \PY{k}{del} \PY{n}{loan}
        
        \PY{n}{var}\PY{o}{=}\PY{n}{np}\PY{o}{.}\PY{n}{cumsum}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{n}{covar\PYZus{}matrix}\PY{o}{.}\PY{n}{explained\PYZus{}variance\PYZus{}ratio\PYZus{}}\PY{p}{,} \PY{n}{decimals}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{)}\PY{o}{*}\PY{l+m+mi}{100}\PY{p}{)}
        \PY{n}{var} \PY{c+c1}{\PYZsh{}cumulative sum of variance explained with [n] features}
        \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize} \PY{o}{=} \PY{p}{(}\PY{l+m+mi}{8}\PY{p}{,}\PY{l+m+mi}{8}\PY{p}{)}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{ Variance Explained}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{} of Features}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{PCA Analysis}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{ylim}\PY{p}{(}\PY{l+m+mi}{30}\PY{p}{,}\PY{l+m+mf}{100.5}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{style}\PY{o}{.}\PY{n}{context}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{seaborn\PYZhy{}whitegrid}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{var}\PY{p}{)}
\end{Verbatim}


    \begin{figure}
\centering
\includegraphics{attachment:image.png}
\caption{image.png}
\end{figure}

    \begin{verbatim}
For example, 90% of the variance in the data can be explained by around 8 features or prameters. Now if this is true for certain data, we could construct a smaller space based on the components found by the above process.
\end{verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{url} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{https://archive.ics.uci.edu/ml/machine\PYZhy{}learning\PYZhy{}databases/iris/iris.data}\PY{l+s+s2}{\PYZdq{}}
        \PY{c+c1}{\PYZsh{} load dataset into Pandas DataFrame}
        \PY{n}{df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{n}{url}\PY{p}{,} \PY{n}{names}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sepal length}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sepal width}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{petal length}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{petal width}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{target}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{preprocessing} \PY{k}{import} \PY{n}{StandardScaler}
        \PY{n}{features} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sepal length}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sepal width}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{petal length}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{petal width}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{c+c1}{\PYZsh{} Separating out the features}
        \PY{n}{x} \PY{o}{=} \PY{n}{df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{features}\PY{p}{]}\PY{o}{.}\PY{n}{values}
        \PY{c+c1}{\PYZsh{} Separating out the target}
        \PY{n}{y} \PY{o}{=} \PY{n}{df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{target}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{values}
        \PY{c+c1}{\PYZsh{} Standardizing the features}
        \PY{n}{x} \PY{o}{=} \PY{n}{StandardScaler}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{fit\PYZus{}transform}\PY{p}{(}\PY{n}{x}\PY{p}{)}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{decomposition} \PY{k}{import} \PY{n}{PCA}
        \PY{n}{pca} \PY{o}{=} \PY{n}{PCA}\PY{p}{(}\PY{n}{n\PYZus{}components}\PY{o}{=}\PY{l+m+mi}{2}\PY{p}{)}
        \PY{n}{principalComponents} \PY{o}{=} \PY{n}{pca}\PY{o}{.}\PY{n}{fit\PYZus{}transform}\PY{p}{(}\PY{n}{x}\PY{p}{)}
        \PY{n}{principalDf} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{data} \PY{o}{=} \PY{n}{principalComponents}
                     \PY{p}{,} \PY{n}{columns} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{principal component 1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{principal component 2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
        \PY{n}{pca}\PY{o}{.}\PY{n}{explained\PYZus{}variance\PYZus{}ratio\PYZus{}}
        \PY{n}{finalDf} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{concat}\PY{p}{(}\PY{p}{[}\PY{n}{principalDf}\PY{p}{,} \PY{n}{df}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{target}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{axis} \PY{o}{=} \PY{l+m+mi}{1}\PY{p}{)}
        \PY{n}{fig} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize} \PY{o}{=} \PY{p}{(}\PY{l+m+mi}{8}\PY{p}{,}\PY{l+m+mi}{8}\PY{p}{)}\PY{p}{)}
        \PY{n}{ax} \PY{o}{=} \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}subplot}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{)} 
        \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Principal Component 1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{fontsize} \PY{o}{=} \PY{l+m+mi}{15}\PY{p}{)}
        \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Principal Component 2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{fontsize} \PY{o}{=} \PY{l+m+mi}{15}\PY{p}{)}
        \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2 component PCA}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{fontsize} \PY{o}{=} \PY{l+m+mi}{20}\PY{p}{)}
        \PY{n}{targets} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Iris\PYZhy{}setosa}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Iris\PYZhy{}versicolor}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Iris\PYZhy{}virginica}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{n}{colors} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{r}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{g}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{b}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{k}{for} \PY{n}{target}\PY{p}{,} \PY{n}{color} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}\PY{n}{targets}\PY{p}{,}\PY{n}{colors}\PY{p}{)}\PY{p}{:}
            \PY{n}{indicesToKeep} \PY{o}{=} \PY{n}{finalDf}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{target}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{n}{target}
            \PY{n}{ax}\PY{o}{.}\PY{n}{scatter}\PY{p}{(}\PY{n}{finalDf}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{indicesToKeep}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{principal component 1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
                       \PY{p}{,} \PY{n}{finalDf}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{indicesToKeep}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{principal component 2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
                       \PY{p}{,} \PY{n}{c} \PY{o}{=} \PY{n}{color}
                       \PY{p}{,} \PY{n}{s} \PY{o}{=} \PY{l+m+mi}{50}\PY{p}{)}
        \PY{n}{ax}\PY{o}{.}\PY{n}{grid}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{figure}
\centering
\includegraphics{attachment:image.png}
\caption{image.png}
\end{figure}

    \begin{verbatim}
Thanks very much for reading and to the wonderful mentors at SSR!
\end{verbatim}


    % Add a bibliography block to the postdoc
    
    
    
    \end{document}
